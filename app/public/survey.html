<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Friend Finder</title>
  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="../../semantic/dist/semantic.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.1/js/all.js"></script>
  <script src="../../semantic/dist/semantic.min.js"></script>
</head>

<body>

  <div class="ui inverted vertical masthead segment">
    <div class="ui left aligned text container">
      <h1 class="ui inverted header huge">
        <i class="fas fa-clipboard"></i> Survey Questions
      </h1>
      <form class="ui form inverted" id="survey_form">

        <div class="field">
          <label class="huge">Name (Required)</label>
          <input type="text" name="user_name">
        </div>

        <div class="field">
          <label>Link to Photo Image (Required)</label>
          <input type="text" name="user_url">
        </div>

        <div class="ui horizontal divider inverted">
          Question Time! Don't Think to Hard Just Answer Honestly
        </div>

        <div class="field">
          <h2>Question 1: Your home and work environments are quite tidy.</h2>
          <div class="ui selection dropdown">
            <input type="hidden" name="q1">
            <i class="dropdown icon"></i>
            <div class="default text">Select An Option</div>
            <div class="menu">
              <div class="item" data-value="1">1 - Strongly Disagree</div>
              <div class="item" data-value="2">2 - Disagree</div>
              <div class="item" data-value="3">3 - I Don't Know</div>
              <div class="item" data-value="4">4 - Agree</div>
              <div class="item" data-value="5">5 - Strongly Aagree</div>
            </div>
          </div>
        </div>
        <div class="field">
          <h2>Question 2: You are usually highly motivated and energetic.</h2>
          <div class="ui selection dropdown">
            <input type="hidden" name="q2">
            <i class="dropdown icon"></i>
            <div class="default text">Select An Option</div>
            <div class="menu">
              <div class="item" data-value="1">1 - Strongly Disagree</div>
              <div class="item" data-value="2">2 - Disagree</div>
              <div class="item" data-value="3">3 - I Don't Know</div>
              <div class="item" data-value="4">4 - Agree</div>
              <div class="item" data-value="5">5 - Strongly Aagree</div>
            </div>
          </div>
        </div>

        <div class="field">
          <h2>Question 3: You consider yourself more practical than creative.</h2>
          <div class="ui selection dropdown">
            <input type="hidden" name="q3">
            <i class="dropdown icon"></i>
            <div class="default text">Select An Option</div>
            <div class="menu">
              <div class="item" data-value="1">1 - Strongly Disagree</div>
              <div class="item" data-value="2">2 - Disagree</div>
              <div class="item" data-value="3">3 - I Don't Know</div>
              <div class="item" data-value="4">4 - Agree</div>
              <div class="item" data-value="5">5 - Strongly Aagree</div>
            </div>
          </div>
        </div>

        <div class="field">
          <h2>Question 4: People can rarely upset you.</h2>
          <div class="ui selection dropdown">
            <input type="hidden" name="q4">
            <i class="dropdown icon"></i>
            <div class="default text">Select An Option</div>
            <div class="menu">
              <div class="item" data-value="1">1 - Strongly Disagree</div>
              <div class="item" data-value="2">2 - Disagree</div>
              <div class="item" data-value="3">3 - I Don't Know</div>
              <div class="item" data-value="4">4 - Agree</div>
              <div class="item" data-value="5">5 - Strongly Aagree</div>
            </div>
          </div>
        </div>

        <div class="field">
          <h2>Question 5: Your mood can change very quickly.</h2>
          <div class="ui selection dropdown">
            <input type="hidden" name="q5">
            <i class="dropdown icon"></i>
            <div class="default text">Select An Option</div>
            <div class="menu">
              <div class="item" data-value="1">1 - Strongly Disagree</div>
              <div class="item" data-value="2">2 - Disagree</div>
              <div class="item" data-value="3">3 - I Don't Know</div>
              <div class="item" data-value="4">4 - Agree</div>
              <div class="item" data-value="5">5 - Strongly Aagree</div>
            </div>
          </div>
        </div>

        <div class="field">
          <h2>Question 6: An interesting book or a video game is often better than a social event.</h2>
          <div class="ui selection dropdown">
            <input type="hidden" name="q6">
            <i class="dropdown icon"></i>
            <div class="default text">Select An Option</div>
            <div class="menu">
              <div class="item" data-value="1">1 - Strongly Disagree</div>
              <div class="item" data-value="2">2 - Disagree</div>
              <div class="item" data-value="3">3 - I Don't Know</div>
              <div class="item" data-value="4">4 - Agree</div>
              <div class="item" data-value="5">5 - Strongly Aagree</div>
            </div>
          </div>
        </div>

        <div class="field">
          <h2>Question 7: You often find yourself lost in thought when you are walking in nature.</h2>
          <div class="ui selection dropdown">
            <input type="hidden" name="q7">
            <i class="dropdown icon"></i>
            <div class="default text">Select An Option</div>
            <div class="menu">
              <div class="item" data-value="1">1 - Strongly Disagree</div>
              <div class="item" data-value="2">2 - Disagree</div>
              <div class="item" data-value="3">3 - I Don't Know</div>
              <div class="item" data-value="4">4 - Agree</div>
              <div class="item" data-value="5">5 - Strongly Aagree</div>
            </div>
          </div>
        </div>

        <div class="field">
          <h2>Question 8: You rarely get carried away by fantasies and ideas.</h2>
          <div class="ui selection dropdown">
            <input type="hidden" name="q8">
            <i class="dropdown icon"></i>
            <div class="default text">Select An Option</div>
            <div class="menu">
              <div class="item" data-value="1">1 - Strongly Disagree</div>
              <div class="item" data-value="2">2 - Disagree</div>
              <div class="item" data-value="3">3 - I Don't Know</div>
              <div class="item" data-value="4">4 - Agree</div>
              <div class="item" data-value="5">5 - Strongly Aagree</div>
            </div>
          </div>
        </div>

        <div class="field">
          <h2>Question 9: You often spend time exploring unrealistic and impractical yet intriguing ideas.</h2>
          <div class="ui selection dropdown">
            <input type="hidden" name="q9">
            <i class="dropdown icon"></i>
            <div class="default text">Select An Option</div>
            <div class="menu">
              <div class="item" data-value="1">1 - Strongly Disagree</div>
              <div class="item" data-value="2">2 - Disagree</div>
              <div class="item" data-value="3">3 - I Don't Know</div>
              <div class="item" data-value="4">4 - Agree</div>
              <div class="item" data-value="5">5 - Strongly Aagree</div>
            </div>
          </div>
        </div>

        <div class="field">
          <h2>Question 10: Your emotions control you more than you control them.</h2>
          <div class="ui selection dropdown">
            <input type="hidden" name="q10">
            <i class="dropdown icon"></i>
            <div class="default text">Select An Option</div>
            <div class="menu">
              <div class="item" data-value="1">1 - Strongly Disagree</div>
              <div class="item" data-value="2">2 - Disagree</div>
              <div class="item" data-value="3">3 - I Don't Know</div>
              <div class="item" data-value="4">4 - Agree</div>
              <div class="item" data-value="5">5 - Strongly Aagree</div>
            </div>
          </div>
        </div>
        <div class="field">
          <button class="ui button" type="submit">Submit</button>
          <div class="ui error message"></div>
        </div>

      </form>
    </div>
  </div>
  <div class="ui segment">
    <div class="ui text container">
      <a href="/api/friendslist">API Friends List</a> |
      <a href="/">GitHub Repo</a>
    </div>
  </div>
  <script>
    $("document").ready(function () {

    $('.dropdown').dropdown();

    $('.ui.form').form({
        fields: {
          user_name: {
            identifier: 'user_name',
            rules: [{
              type: 'empty',
              prompt: 'Please enter your name'
            }]
          },
          user_url: {
            identifier: 'user_url',
            rules: [{
              type: 'url',
              prompt: 'Please enter a valid image link'
            }]
          },
          q1: {
            identifier  : 'q1',
            rules: [
              {
                type   : 'empty',
                prompt : 'Please select a dropdown value'
              }
            ]
          },
          q2: {
            identifier  : 'q2',
            rules: [
              {
                type   : 'empty',
                prompt : 'Please select a dropdown value'
              }
            ]
          },
          q3: {
            identifier  : 'q3',
            rules: [
              {
                type   : 'empty',
                prompt : 'Please select a dropdown value'
              }
            ]
          },
          q4: {
            identifier  : 'q4',
            rules: [
              {
                type   : 'empty',
                prompt : 'Please select a dropdown value'
              }
            ]
          },
          q5: {
            identifier  : 'q5',
            rules: [
              {
                type   : 'empty',
                prompt : 'Please select a dropdown value'
              }
            ]
          },
          q6: {
            identifier  : 'q6',
            rules: [
              {
                type   : 'empty',
                prompt : 'Please select a dropdown value'
              }
            ]
          },
          q7: {
            identifier  : 'q7',
            rules: [
              {
                type   : 'empty',
                prompt : 'Please select a dropdown value'
              }
            ]
          },
          q8: {
            identifier  : 'q8',
            rules: [
              {
                type   : 'empty',
                prompt : 'Please select a dropdown value'
              }
            ]
          },
          q9: {
            identifier  : 'q9',
            rules: [
              {
                type   : 'empty',
                prompt : 'Please select a dropdown value'
              }
            ]
          },
          q10: {
            identifier  : 'q10',
            rules: [
              {
                type   : 'empty',
                prompt : 'Please select a dropdown value'
              }
            ]
          }
        },
        onSuccess: function(event){
          event.preventDefault();
          var userInputs = $("#survey_form :input");


          var userAnswers = [];
          userInputs.slice(2, -1).each(function () {
            userAnswers.push(parseInt($(this).val()));
          });
          var newUser = {
            name: userInputs[0].value,
            photo: userInputs[1].value,
            scores: userAnswers
          };

          $.post('/api/friendslist', newUser, function(data){
            console.log(data);
            alert("Added");
          });
        }
      });


    });
  </script>

</html>
